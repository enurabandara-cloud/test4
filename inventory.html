<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Inventory - Medusa Nextgen Display</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto&display=swap" rel="stylesheet">
<style>
  body {
    font-family:'Roboto',sans-serif;
    margin:0;
    background: linear-gradient(135deg,#ff6a00,#ee0979);
    color:#fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
    padding:20px;
  }
  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size:2.5em;
    background: linear-gradient(90deg,#0ff,#f0f);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom:20px;
  }
  input {
    padding:10px;
    border-radius:5px;
    border:none;
    width:250px;
    margin-bottom:10px;
  }
  table {
    width:90%;
    max-width:700px;
    border-collapse: collapse;
  }
  th, td {
    border:1px solid #fff;
    padding:8px;
    text-align:center;
  }
  th {
    background: rgba(0,0,0,0.3);
  }
</style>
</head>
<body>
  <h1>Inventory Price Check</h1>
  <input type="text" id="itemName" placeholder="Search Model">
  <table id="inventoryTable">
    <thead>
      <tr>
        <th>Item Name</th>
        <th>Price</th>
        <th>Quantity</th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <!-- Inventory items will appear here -->
    </tbody>
  </table>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
   apiKey: "AIzaSyCyBWuKREPhHPOEFVxUGszbpDdXKQGcdEg",
  authDomain: "repairtrackersystem.firebaseapp.com",
  projectId: "repairtrackersystem",
  storageBucket: "repairtrackersystem.firebasestorage.app",
  messagingSenderId: "181636666453",
  appId: "1:181636666453:web:9fa73b02c4a6cbba7370dc"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  let inventoryList = [];

  const tbody = document.getElementById("tableBody");
  const searchInput = document.getElementById("itemName");

  // Realtime listener
  db.collection("inventory").onSnapshot(snapshot=>{
    inventoryList = snapshot.docs.map(doc=>doc.data());
    updateTable();
  });

  // Update table based on search
  function updateTable(){
    const search = searchInput.value.toLowerCase();
    let sortedList = [...inventoryList];
    if(search){
      sortedList.sort((a,b)=>{
        if(a.itemName.toLowerCase() === search) return -1;
        if(b.itemName.toLowerCase() === search) return 1;
        return 0;
      });
    }
    tbody.innerHTML = '';
    sortedList.forEach(item=>{
      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${item.itemName}</td><td>${item.price}</td><td>${item.quantity}</td>`;
      tbody.appendChild(tr);
    });
  }

  // Search as you type
  searchInput.addEventListener("input", updateTable);
</script>
</body>
</html>
